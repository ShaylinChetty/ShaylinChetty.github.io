(this.webpackJsonpvisualisingcovid=this.webpackJsonpvisualisingcovid||[]).push([[0],{231:function(e,t,n){},242:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),c=(n(231),n(42)),s=n(11),l=n(379),u=n(373),h=n(355),f=n(343),d=n(353),j=n(370),b=n(378),m=n(110),p=n.n(m),x=n(369),O=n(367),g=n(368),y=n(180),k=n(381),Y=n(376),M=n(374),v=n(346),C=n(35),w="#1f78b4",R="#b2df8a",D="#fb9a99",S="#A62190",T="#4760DE",E="#000000",I=["Intro","RawYearComparison","YoYTotal","YoYMarketRegion","Calendar"],A={0:"Intro",1:"RawYearComparison",2:"YoYTotal",3:"YoYMarketRegion",4:"Calendar"},L={Intro:3,RawYearComparison:2,YoYTotal:3,YoYMarketRegion:2,Calendar:1},N={Intro:"Introduction",RawYearComparison:"Consumption Between Years",YoYTotal:"Year on Year Change",YoYMarketRegion:"Regional Changes",YoYMarket:"Market Type Changes",Calendar:"Day Changes"},V={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11},F=n(20),W=n.n(F),B=n(51),P=n(52);function z(){return(z=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/YoYTotal.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,V[e.Month],1),YoYChange:e.ConsumptionYoY};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/YoYMarket.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,V[e.Month],1),YoYChange:e["YoY Consumption Change"],Market:e["Market Type"]};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/YoYRegion.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,V[e.Month],1),YoYChange:e["YoY Consumption Change"],Region:e.Region};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/YoYRegionMarket.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,V[e.Month],1),YoYChange:e["YoY Consumption Change"],Market:e["Market Type"],Region:e.Region};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/RawConsumption.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,V[e.Month],1),Consumption:e.Consumption};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/RawConsumptionMarkets.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,V[e.Month],1),Consumption:e.Consumption,Market:e["Market Type"]};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/YoyByDay.csv")).then((function(e){var n=[];e.forEach((function(e){var t=e.Date.split("/"),a={Date:new Date(t[2],t[1]-1,t[0]),Change:e.ConsumptionChange};n.push(a)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(B.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(P.a)("".concat("","/KeyDateData.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Date:new Date(e["Earliest Date"]),DayName:e.Event,Consumption:e["Consumption (kWh)"],Year:parseInt(e["Calendar Year"]),Market:e["Market Type"]};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=n(13);function X(e){var t=Object.keys(A).find((function(t){return A[t]===e}));return t?+t:1}function U(e,t,n){if("YoYTotal"===t){if(n){if(1===e)return"All three markets were mostly moving in sync prior to COVID lockdowns.";if(2===e)return"Statewide restrictions saw most businesses and factories close, and there is a shift to working and schooling from home where possible";if(3===e)return"The markets reached parity with each other again two months after strict lockdown rules ended."}else if(!n){if(1===e)return"At an aggregated network level there is a net decrease of around -4% across the year. This is a significant change in the context of electricity demand. especially as 2020 was colder than 2019.";if(2===e)return"The first lockdown saw an extreme trough in April, while the second lockdown sees a similar lockdown in August.";if(3===e)return"We can see slow returns to normal as restrictions ease over time in contrast to their sudden implementation"}}else if("YoYMarketRegion"===t){if(n){if(1===e)return"During the first lockdown the similar restrictions between regions saw the different market types following similar growth or decline.";if(2===e)return"During the second lockdown regional businesses remained open unlike their metropolitan counterparts. Tourism however was virtually non-existant during this period in Regional Victoria."}else if(!n){if(1===e)return"Lockdown restrictions saw Victoria split into two distinct regions with differing rules.";if(2===e)return"Regional Victoria had significantly fewer restrictions during Lockdown 2."}}else if("RawYearComparison"===t){if(n){if(1===e)return"From this we can see that Residential consumption is far more sensitive to temperature than business or industrial consumption. The latter two market types remain relativley stable throughout the year.";if(2===e)return"It's a little tough to interpret the change between 2019 and 2020 when viewed like this. Let's look only at the difference between the years on the next visual."}else if(!n){if(1===e)return"In a typical year Victoria generates approximately 26 million Megawatt-Hours (MWh) of electricity.";if(2===e)return"Generation is distributed across the year with peaks occuring during the hottest and coldest months."}}else if("Calendar"===t){if(1===e)return"This calendar shows the year on year change, per day. Due to the shift of weekdays, and the leap year effect of 2020 the days do not align neatly. Click on some of the public holidays to investigate the year on year change in a little more detail.";if(2===e)return"Public holidays during the lockdown period exhibited significantly more overall consumption. Nearly all of which is from the residential sector."}return""}function $(e,t,n){if("RawYearComparison"===e)if(n){if(n){if(1===t)return Z.a.topRightEdge;if(2===t)return Z.a.topLeftEdge}}else{if(1===t)return Z.a.bottomAutoEdge;if(2===t)return Z.a.bottomRightEdge}else if("YoYTotal"===e)if(n){if(n){if(1===t)return Z.a.topCenter;if(2===t)return Z.a.topRightEdge;if(3===t)return Z.a.leftCenter}}else{if(1===t)return Z.a.topRightEdge;if(2===t)return Z.a.bottomCenter;if(3===t)return Z.a.bottomLeftEdge}else if("YoYMarketRegion"===e)if(n){if(n){if(1===t)return Z.a.topCenter;if(2===t)return Z.a.topCenter}}else{if(1===t)return Z.a.topLeftEdge;if(2===t)return Z.a.bottomLeftEdge}else if("Calendar"===e){if(1===t)return Z.a.bottomCenter;if(2===t)return Z.a.bottomCenter}return Z.a.topCenter}function ee(e,t,n){var a="70%",r="50%";return"RawYearComparison"===e?n?n&&(1===t?(a="34%",r="57%"):2===t&&(a="74%",r="59%")):1===t?(a="34%",r="41%"):2===t&&(a="68%",r="47%"):"YoYTotal"===e?n?n&&(1===t?(a="30%",r="51%"):2===t?(a="40%",r="66%"):3===t&&(a="85%",r="57%")):1===t?(a="31%",r="52%"):2===t?(a="36%",r="65%"):3===t&&(a="77%",r="64%"):"YoYMarketRegion"===e?n?n&&(1===t?(a="30%",r="46%"):2===t&&(a="75%",r="59%")):1===t?(a="30%",r="47%"):2===t&&(a="75%",r="65%"):"Calendar"===e&&(1===t?(a="47%",r="20%"):2===t&&(a="47%",r="65%")),{position:"absolute",left:a,top:r}}n(242);var te=n(388),ne=n(167),ae=n(168),re=n(339),oe=n(380),ie=n(384),ce=n(152),se=n(153),le=n(148),ue=n(151),he=n(387),fe=n(41),de=n.n(fe),je=n(348),be=n(345),me=n(347),pe=n(2);function xe(e){var t=20,n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],i=r[1],c=Object(a.useState)(""),l=Object(s.a)(c,2),u=l[0],h=l[1],d=Object(a.useState)([]),j=Object(s.a)(d,2),m=j[0],p=j[1],x=Object(a.useState)(),O=Object(s.a)(x,2),g=O[0],k=O[1],M=Object(a.useState)(void 0),v=Object(s.a)(M,2),C=v[0],E=v[1],I=Object(a.useState)(void 0),A=Object(s.a)(I,2),L=A[0],N=A[1],V=30,F=500,W=[50,500],B=[470,V];Object(re.a)({domain:["Residential","Commercial","Large"],range:["#6c5efb","#c998ff","#a44afe"]});function P(e){var n=e.getDay(),a=ce.b.count(Object(se.a)(e),e),r=new Date(e.getFullYear(),e.getMonth()+1,0),o=r.getDay(),i=ce.b.count(Object(se.a)(r),r);return"\n            M".concat((a+1)*t,",").concat(n*t,"\n            H").concat(a*t," V").concat(140,"\n            H").concat(i*t," V").concat((o+1)*t,"\n            H").concat((i+1)*t," V0\n            H").concat((a+1)*t,"Z\n        ")}var z=Object(he.a)("%Y-%m-%d"),H=function(){var t=[];for(var n in e.KeyDateData)t.push(z(e.KeyDateData[n].Date));return t}(),J=Object(oe.a)({domain:[-50,50],range:["#a50026","#f46d43","#ffffbf","#66bd63","#006837"]}),K=new Date("2020-03-20"),G=new Date("2020-05-10"),_=new Date("2020-07-08"),q=new Date("2020-11-08"),Q=["Residential","Commercial","Large"];function Z(t){i(t);var n=e.KeyDateData.filter((function(e){return z(e.Date)===t})),a=n[0].DayName;h(a);var r=e.KeyDateData.filter((function(e){return e.DayName===a&&2019===e.Year}));k(n.concat(r)[3].Date),p(n.concat(r)),e.setStoryLim(2),E((function(){return Object(ie.a)({domain:Q,range:W})})),N((function(){return Object(Y.a)({domain:[0,5e4],nice:!0,range:B})}))}var X={display:"flex",flexDirection:"column",alignItems:"center"};return Object(pe.jsx)("div",{children:[2020].map((function(n){var a=new Date(n,0,1),r=new Date(n+1,0,1),i=Object(le.a)(a,r),c=Object(ue.b)(a,r);return Object(pe.jsxs)(f.a,{container:!0,children:[Object(pe.jsx)(f.a,{item:!0,xs:12,children:Object(pe.jsx)("svg",{width:e.width,height:200,children:Object(pe.jsxs)(y.a,{transform:"translate(".concat((e.width-1400)/2,",0)"),children:[Object(pe.jsx)("text",{transform:"translate(-6,".concat(70,")rotate(-90)"),fontFamily:"sans-serif",fontSize:15,textAnchor:"middle",children:n}),Object(pe.jsx)(y.a,{fill:"none",stroke:"#ccc",children:i.map((function(n){var a=z(n),r=e.data.filter((function(e){return a===z(e.Date)}))[0].Change,o=ce.b.count(Object(se.a)(n),n)*t,i=n.getDay()*t,c="#fffff",s=1,l="";return n>=K&&n<=G?(c=T,s=2,l=" (Lockdown 1)"):n>=_&&n<=q&&(c=S,s=2,l=" (Lockdown 2)"),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(b.a,{title:"".concat(de()(a).format("dddd D MMMM YYYY"),": ").concat(r,"% ").concat(l),children:Object(pe.jsx)("rect",{fill:J(r),width:t,height:t,x:o,y:i,onClick:function(e){H.includes(a)&&Z(a)},stroke:c,strokeWidth:s},"day-rect-".concat(a))},"".concat(a,"-Tooltip-box")),H.includes(a)&&Object(pe.jsx)(b.a,{title:"".concat(de()(a).format("dddd D MMMM YYYY"),": ").concat(r,"% ").concat(l),children:Object(pe.jsx)("text",{x:o+8,y:i+15,stroke:"red",strokeWidth:1,onClick:function(e){Z(a)},cursor:"pointer",children:"!"})},"".concat(a,"-Tooltip-mark"))]})}))}),Object(pe.jsx)(y.a,{fill:"none",stroke:"#000",strokeWidth:4,children:c.map((function(e){return Object(pe.jsx)("path",{d:P(e)},"month-path-".concat(z(e)))}))})]})},"year-".concat(n))}),""!==o&&Object(pe.jsxs)(f.a,{item:!0,xs:4,style:X,children:[Object(pe.jsxs)("text",{children:[u," 2019 - ",de()(g).format("DD MMMM")]}),Object(pe.jsxs)("svg",{width:500,height:F,id:"Calendar2019Graphs",children:[Object(pe.jsx)(be.a,{top:470,scale:C}),Object(pe.jsx)(me.a,{left:50,scale:L}),Object(pe.jsx)(y.a,{id:"2019Graph",children:m.filter((function(e){return 2019===e.Year})).map((function(e){var t=F-L(e.Consumption),n=C(e.Market),a=F-t,r=w;return"Commercial"===e.Market?r=R:"Residential"===e.Market?r=w:"Large"===e.Market&&(r=D),Object(pe.jsx)(je.a,{x:n+50,y:a-V,width:50,height:t,fill:r},"bar-".concat(e.Date,"-").concat(e.Market,"-outline"))}))})]})]}),""!==o&&Object(pe.jsxs)(f.a,{item:!0,xs:4,style:X,children:[Object(pe.jsxs)("text",{children:[u," 2020 - ",de()(o).format("DD MMMM")]}),Object(pe.jsxs)("svg",{width:500,height:F,id:"Calendar2020Graphs",children:[Object(pe.jsx)(be.a,{top:470,scale:C}),Object(pe.jsx)(me.a,{left:50,scale:L}),Object(pe.jsx)(y.a,{id:"2019Graph",children:m.filter((function(e){return 2020===e.Year})).map((function(e){var t=F-L(e.Consumption),n=C(e.Market),a=F-t,r=w;return"Commercial"===e.Market?r=R:"Residential"===e.Market?r=w:"Large"===e.Market&&(r=D),Object(pe.jsx)(je.a,{x:n+50,y:a-V,width:50,height:t,fill:r},"bar-".concat(e.Date,"-").concat(e.Market,"-outline"))}))})]})]}),Object(pe.jsx)(y.a,{id:"CalLegend",style:{position:"fixed",right:"10%"},children:Object(pe.jsx)(te.a,{scale:J,children:function(e){return e.map((function(e,t){return Object(pe.jsxs)(ne.a,{children:[Object(pe.jsx)("svg",{width:15,height:15,style:{margin:"2px 0"},children:Object(pe.jsx)("circle",{fill:e.value,r:7.5,cx:7.5,cy:7.5})}),Object(pe.jsx)(ae.a,{align:"left",margin:"0 4px",children:"".concat(Math.round(e.extent[0]),"% to ").concat(Math.round(e.extent[1]),"%")})]},"legend-".concat(t))}))}})})]})}))})}var Oe=15;function ge(e,t,n,a,r,o){return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(be.a,{top:e,scale:a,numTicks:24,tickFormat:function(e){return e},children:function(e){var t="2019"===e.label?"#4760DE":"#A62190",n=(e.axisToPoint.x-e.axisFromPoint.x)/2;return Object(pe.jsxs)("g",{className:"my-custom-bottom-axis",children:[Object(pe.jsx)(v.a,{from:e.axisFromPoint,to:e.axisToPoint,stroke:"#000000"}),e.ticks.map((function(e,n){var a=e.to.x,r=e.to.y+15;return Object(pe.jsxs)(y.a,{className:"vx-axis-tick",children:[Object(pe.jsx)(v.a,{from:e.from,to:e.to,stroke:t}),Object(pe.jsx)("text",{transform:"translate(".concat(a,", ").concat(r,")"),fontSize:15,textAnchor:"middle",fill:"2019"===de()(e.formattedValue).format("Y")?"#4760DE":"#A62190",children:de()(e.formattedValue).format("MMM")})]},"vx-tick-".concat(e.value,"-").concat(n))})),Object(pe.jsx)("text",{textAnchor:"middle",transform:"translate(".concat(n,", 50)"),fontSize:"8",children:e.label})]})}}),Object(pe.jsx)(be.a,{top:e+30,scale:Object(ie.a)({domain:["2019","2020"],range:[t,n]}),numTicks:4,hideAxisLine:!0,tickFormat:function(e){return de()(e).format("Y")},children:function(e){var t=(e.axisToPoint.x-e.axisFromPoint.x)/2;return Object(pe.jsxs)("g",{className:"my-custom-bottom-axis",children:[e.ticks.map((function(e,t){var n=e.to.x,a=e.to.y+10;return Object(pe.jsx)(y.a,{className:"vx-axis-tick",children:Object(pe.jsx)("text",{transform:"translate(".concat(n,", ").concat(a,")"),fontSize:10,textAnchor:"middle",fill:"2019"===e.formattedValue?T:S,children:e.formattedValue})},"vx-tick-".concat(e.value,"-").concat(t))})),Object(pe.jsx)("text",{textAnchor:"middle",transform:"translate(".concat(t,", 50)"),fontSize:"8",children:e.label})]})}}),Object(pe.jsx)(me.a,{left:t,scale:r,label:o})]})}function ye(e,t,n,a,r,o){return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(be.a,{top:e,scale:a,numTicks:12,tickFormat:function(e){return e},children:function(e){var t=(e.axisToPoint.x-e.axisFromPoint.x)/2;return Object(pe.jsxs)("g",{className:"my-custom-bottom-axis",children:[Object(pe.jsx)(v.a,{from:e.axisFromPoint,to:e.axisToPoint,stroke:"#000000"}),e.ticks.map((function(e,t){return function(e){var t="Prior to Lockdown",n=E,a=de()(e.formattedValue).format("MMMM");["April","May"].includes(a)?(t="Lockdown 1",n=T):["July","August","September","October"].includes(a)?(t="Lockdown 2",n=S):["January","February"].includes(a)?(t="Prior to Lockdown",n=E):"March"===a?(t="Lockdown begins in Third Week",n=T):"June"===a?(t="Eased Restrictions",n=E):["November","December"].includes(a)&&(t="Easing Restrictions Over Time",n=E);return Object(pe.jsxs)(y.a,{children:[Object(pe.jsx)(v.a,{from:e.from,to:e.to,stroke:"#A62190"}),Object(pe.jsx)(b.a,{title:t,children:Object(pe.jsx)("text",{transform:"translate(".concat(e.to.x,", ").concat(e.to.y+Oe,")"),fontSize:Oe,textAnchor:"middle",fill:n,cursor:"pointer",children:de()(e.formattedValue).format("MMMM")})})]},"vx-tick-".concat(e.value))}(e)})),Object(pe.jsx)("text",{textAnchor:"middle",transform:"translate(".concat(t,", 50)"),fontSize:"8",children:e.label})]})}}),Object(pe.jsx)(be.a,{top:e+30,scale:Object(k.a)({domain:[new Date("2019-01-01"),new Date("2020-12-01")],nice:!0,range:[t,n]}),numTicks:1,hideAxisLine:!0,tickFormat:function(e){return de()(e).format("Y")},hideTicks:!0}),Object(pe.jsx)(me.a,{left:t,scale:r,label:o})]})}function ke(){return Object(pe.jsx)("div",{style:{height:"90vh",width:"100%",display:"flex",flexDirection:"column"},children:Object(pe.jsx)("div",{dangerouslySetInnerHTML:{__html:"<iframe src='https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html?source=1n-8-FkqEqL-hZbaXNfr5ApCmQKAhRsdSjKSMdV5JNKQ&font=Default&lang=en&timenav_position=top&initial_zoom=1&height=650' width='100%' height='650' webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder='0'></iframe>"}})})}var Ye=n(349),Me=n(350),ve=n(171),Ce=n.n(ve),we=n(169),Re=n.n(we),De=n(172),Se=n.n(De),Te=n(170),Ee=n.n(Te),Ie=n(351);function Ae(e){function t(e){return"RawYearComparison"===e||"YoYTotal"===e?Object(re.a)({domain:["Residential","Business","Industrial"],range:[w,R,D]}):"YoYMarketRegion"===e?Object(re.a)({domain:["Residential Metropolitan","Residential Regional","Business Metropolitan","Business Regional","Industrial Metropolitan","Industrial Regional"],range:[w,w,R,R,D,D]}):void 0}function n(e,t,n){return"YoYTotal"!==e&&"RawYearComparison"!==e?n.includes("Regional")?Object(pe.jsxs)("svg",{width:25,height:25,children:[" ",Object(pe.jsx)("line",{x1:"0",y1:"12",x2:"25",y2:"12",stroke:t,"stroke-dasharray":"4"})," "]}):Object(pe.jsxs)("svg",{width:25,height:25,children:[" ",Object(pe.jsx)("line",{x1:"0",y1:"12",x2:"25",y2:"12",stroke:t})," "]}):"Residential"===n?Object(pe.jsx)(Re.a,{htmlColor:t,fontSize:"large"}):"Business"===n?Object(pe.jsx)(Ee.a,{htmlColor:t,fontSize:"large"}):"Industrial"===n?Object(pe.jsx)(Ce.a,{htmlColor:t,fontSize:"large"}):"Overall"===n?Object(pe.jsx)(Se.a,{htmlColor:t,fontSize:"large"}):void 0}return t(e.currStep)&&"Intro"!==e.currStep?e.marketsActive?Object(pe.jsx)(Ye.a,{style:{zIndex:1,position:"fixed",top:"15vh",right:"10vw"},children:Object(pe.jsx)(Ie.a,{scale:t(e.currStep),labelFormat:function(e){return"".concat(e)},children:function(t){return Object(pe.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:t.map((function(t,a){return Object(pe.jsxs)(ne.a,{margin:"5px 5px",children:[n(e.currStep,t.value,t.text),Object(pe.jsxs)(ae.a,{align:"left",margin:"0 0 0 4px",children:[" ",t.text," "]})]},"legend-quantile-".concat(a))}))})}})}):Object(pe.jsx)(Ye.a,{style:{zIndex:1,position:"fixed",top:"15vh",right:"10vw"},children:Object(pe.jsx)(Me.a,{variant:"contained",color:"primary",onClick:function(t){e.updateFilters()},style:{marginTop:"5%"},children:" Show Market Types "})}):null}var Le=n(354),Ne=n(352),Ve=n(383),Fe=n(389);function We(e){var t=Object(a.useState)(e.currStep),n=Object(s.a)(t,2),r=n[0],o=n[1],i=I;Object(a.useEffect)((function(){e.currStep!==r&&o(e.currStep)}));return Object(pe.jsxs)(y.a,{id:"SideBar",style:{display:"flex",flexDirection:"column"},children:[Object(pe.jsx)(y.a,{id:"Stepper",children:Object(pe.jsx)(Fe.a,{activeStep:X(r),orientation:"vertical",children:i.map((function(t,n){return Object(pe.jsx)(Ne.a,{style:{cursor:"pointer"},children:Object(pe.jsx)(Ve.a,{onClick:function(n){var a;o(a=t),e.updateStep(a)},children:Object(pe.jsx)(d.a,{variant:"button",children:N[t]})})},t)}))})}),Object(pe.jsx)(Le.a,{})]})}function Be(){var e=Object(a.useState)(void 0),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(void 0),m=Object(s.a)(i,2),S=m[0],T=m[1],I=Object(a.useState)("YoYTotal"),N=Object(s.a)(I,2),V=N[0],F=N[1],W=Object(a.useState)(""),B=Object(s.a)(W,2),P=B[0],Z=B[1],te=Object(a.useState)([]),ne=Object(s.a)(te,2),ae=ne[0],re=ne[1],oe=Object(a.useState)([]),ie=Object(s.a)(oe,2),ce=ie[0],se=ie[1],le=Object(a.useState)([]),ue=Object(s.a)(le,2),he=ue[0],fe=ue[1],de=Object(a.useState)([]),je=Object(s.a)(de,2),be=je[0],me=je[1],Oe=Object(a.useState)([]),Ye=Object(s.a)(Oe,2),Me=Ye[0],ve=Ye[1],Ce=Object(a.useState)([]),we=Object(s.a)(Ce,2),Re=we[0],De=we[1],Se=Object(a.useState)([]),Te=Object(s.a)(Se,2),Ee=Te[0],Ie=Te[1],Le=Object(a.useState)([]),Ne=Object(s.a)(Le,2),Ve=Ne[0],Fe=Ne[1],Be=Object(a.useState)([]),Pe=Object(s.a)(Be,2),ze=Pe[0],He=Pe[1],Je=.9*document.documentElement.clientHeight,Ke=.8*document.documentElement.clientWidth,Ge=.8*document.documentElement.clientHeight,_e=.75*document.documentElement.clientWidth,qe=.05*document.documentElement.clientWidth,Qe=Object(a.useState)(1),Ze=Object(s.a)(Qe,2),Xe=Ze[0],Ue=Ze[1],$e=Object(a.useState)(L.Intro),et=Object(s.a)($e,2),tt=et[0],nt=et[1],at=Object(a.useState)("Total Consumption"),rt=Object(s.a)(at,2),ot=rt[0],it=rt[1],ct=r.a.useRef(null),st=Object(h.a)(!1),lt=Object(s.a)(st,2),ut=lt[0],ht=lt[1],ft=ht.setFalse,dt=ht.setTrue,jt=r.a.useRef(null),bt=Object(h.a)(!1),mt=Object(s.a)(bt,2),pt=mt[0],xt=mt[1],Ot=xt.setFalse,gt=xt.setTrue,yt=r.a.useRef(null),kt=Object(h.a)(!1),Yt=Object(s.a)(kt,2),Mt=Yt[0],vt=Yt[1],Ct=vt.setFalse,wt=vt.setTrue;function Rt(){"YoYMarketRegion"!==V&&It(A[X(V)+1])}function Dt(e){return{directionalHint:$(V,e,ze.includes("Markets")),doNotLayer:!1}}function St(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?He([]):(He([e]),it(At(V,!0)))}function Tt(){ft(),Ot(),Ct(),St("Markets")}function Et(e,t,n,a){o((function(){return Object(k.a)({domain:[e,t],nice:!0,range:[qe,_e]})})),T((function(){return Object(Y.a)({domain:[a,n],nice:!0,range:[50,Ge]})}))}function It(e){if(F(e),ft(),Ot(),Ct(),St("2019",!1),it(At(e)),nt(L[e]),"RawYearComparison"===e)Et(Math.min.apply(Math,Object(c.a)(ae.map((function(e){return e.Month.valueOf()})))),Math.max.apply(Math,Object(c.a)(ae.map((function(e){return e.Month.valueOf()})))),0,Math.max.apply(Math,Object(c.a)(ae.map((function(e){return e.Consumption}))))),Z("Demand (MWh)");else if("YoYTotal"===e){Et(Math.min.apply(Math,Object(c.a)(be.map((function(e){return e.Month.valueOf()})))),Math.max.apply(Math,Object(c.a)(be.map((function(e){return e.Month.valueOf()})))),Math.min.apply(Math,Object(c.a)(be.map((function(e){return e.YoYChange})))),Math.max.apply(Math,Object(c.a)(be.map((function(e){return e.YoYChange}))))),Z("Year on Year Change (%)")}else if("YoYMarketRegion"===e){var t=Math.min.apply(Math,Object(c.a)(Re.map((function(e){return e.Month.valueOf()})))),n=Math.max.apply(Math,Object(c.a)(Re.map((function(e){return e.Month.valueOf()})))),a=Math.min.apply(Math,Object(c.a)(Re.map((function(e){return e.YoYChange})))),r=Math.max.apply(Math,Object(c.a)(Re.map((function(e){return e.YoYChange}))));Z("Year on Year Change (%)"),Et(t,n,a,r)}e!==V&&Ue(1)}function At(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"YoYTotal"===e?t?"Electricity Demand across Victoria by Market Type":"Electricity Demand across Victoria":"RawYearComparison"===e?t?"Year on Year Change in Demand by Market Type":"Year on Year Change in Demand":"YoYMarketRegion"===e?t?"Year on Year Change in Demand by Region":"Year on Year Change in Demand by Region and Market Type":""}Object(a.useEffect)((function(){0===ae.length?(console.log("Loading Data"),function(e){G.apply(this,arguments)}(re),function(e){_.apply(this,arguments)}(se),function(e){z.apply(this,arguments)}(fe),function(e){H.apply(this,arguments)}(me),function(e){J.apply(this,arguments)}(ve),function(e){K.apply(this,arguments)}(De),function(e){q.apply(this,arguments)}(Ie),function(e){Q.apply(this,arguments)}(Fe)):void 0===n&&1===Xe&&"Intro"!==V&&(console.log("Data Loaded"),It("Intro")),ut||(dt(),gt(),wt())}));var Lt=function(e,t){return{WebkitTransform:"translate3d(".concat(e,"px, 0, 0)"),transform:"translate3d(".concat(e,"px, 0, 0)"),visibility:t?"visible":"hidden"}},Nt=ze.includes("Markets")?0:1;return Object(pe.jsxs)(f.a,{container:!0,children:[Object(pe.jsxs)(y.a,{id:"anchors",children:[Object(pe.jsx)("span",{id:"InfoAnchor1",style:ee(V,1,ze.includes("Markets")),ref:ct}),Object(pe.jsx)("span",{id:"InfoAnchor2",style:ee(V,2,ze.includes("Markets")),ref:jt}),Object(pe.jsx)("span",{id:"InfoAnchor3",style:ee(V,3,ze.includes("Markets")),ref:yt})]}),Object(pe.jsx)(y.a,{id:"LegendContainer",children:Object(pe.jsx)(Ae,{currStep:V,marketsActive:ze.includes("Markets"),updateFilters:Tt})}),Object(pe.jsx)(y.a,{id:"infoBoxes",children:"Intro"!==V&&Object(pe.jsxs)(pe.Fragment,{children:[tt>=1&&ut&&Object(pe.jsx)(l.a,{target:ct.current,positioningContainerProps:Dt(1),delayBeforeCoachmarkAnimation:1e3,children:Object(pe.jsx)(u.a,{onDismiss:ft,hasCloseButton:!0,children:U(1,V,ze.includes("Markets"))})}),tt>=2&&pt&&Object(pe.jsx)(l.a,{target:jt.current,positioningContainerProps:Dt(2),delayBeforeCoachmarkAnimation:1e3,children:Object(pe.jsx)(u.a,{onDismiss:Ot,hasCloseButton:!0,children:U(2,V,ze.includes("Markets"))})}),tt>=3&&Mt&&Object(pe.jsx)(l.a,{target:yt.current,positioningContainerProps:Dt(3),delayBeforeCoachmarkAnimation:1e3,children:Object(pe.jsx)(u.a,{onDismiss:Ct,hasCloseButton:!0,children:U(3,V,ze.includes("Markets"))})})]})}),Object(pe.jsx)(f.a,{item:!0,xs:2,style:{borderRight:"1px solid rgba(0, 0, 0, 0.05)"},children:Object(pe.jsx)(We,{currStep:V,updateStep:It,updateFilters:Tt})}),Object(pe.jsxs)(f.a,{item:!0,xs:10,children:["Intro"===V&&Object(pe.jsx)(ke,{}),"Intro"!==V&&"Calendar"!==V&&n&&Object(pe.jsxs)(y.a,{id:"CanvasContainer",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(pe.jsx)(d.a,{variant:"h6",children:ot}),Object(pe.jsxs)("svg",{height:Je,width:Ke,id:"Canvas",children:[Object(pe.jsxs)(y.a,{id:"Axis",children:["RawYearComparison"!==V?ye(Ge,qe,_e,n,S,P):ge(Ge,qe,_e,n,S,P),Object(pe.jsx)(O.a,{scale:S,width:_e-qe,height:Ge,stroke:"#e0e0e0",left:qe}),Object(pe.jsx)(g.a,{scale:n,width:_e,height:Ge-50,stroke:"#e0e0e0",top:50})]}),Object(pe.jsxs)(y.a,{id:"TotalConsumpion",children:[Object(pe.jsx)(C.Motion,{style:{motionVar:Object(C.spring)("RawYearComparison"===V?0:400)},children:function(e){var t=e.motionVar;return Object(pe.jsx)(M.a,{data:ae,curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.Consumption)},stroke:E,strokeWidth:1.5,style:Lt(t,"RawYearComparison"===V),className:"lineStyle"})}}),Object(pe.jsx)(C.Motion,{style:{motionVar:Object(C.spring)("RawYearComparison"===V&&ze.includes("Markets")?1:0)},children:function(e){var t=e.motionVar;return Object(pe.jsxs)(y.a,{id:"RawYearMarkets",children:[Object(pe.jsx)(M.a,{data:ce.filter((function(e){return"Commercial"===e.Market})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.Consumption)},stroke:R,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(pe.jsx)(M.a,{data:ce.filter((function(e){return"Large"===e.Market})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.Consumption)},stroke:D,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(pe.jsx)(M.a,{data:ce.filter((function(e){return"Residential"===e.Market})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.Consumption)},stroke:w,strokeWidth:1.5,opacity:t,className:"lineStyle"})]})}})]}),Object(pe.jsxs)(y.a,{id:"YoYChange",children:[Object(pe.jsx)(C.Motion,{style:{motionVar:Object(C.spring)("YoYTotal"===V?0:400)},children:function(e){var t=e.motionVar;return Object(pe.jsxs)(y.a,{children:[Object(pe.jsx)(v.a,{from:{x:n(new Date(2020,0,1)),y:S(0)},to:{x:_e,y:S(0)},stroke:E,strokeWidth:1.5,style:Lt(t,"YoYTotal"===V)}),Object(pe.jsx)(M.a,{data:he,curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:E,strokeWidth:1.5,style:Lt(t,"YoYTotal"===V),className:"lineStyle",opacity:Nt})]})}}),Object(pe.jsx)(C.Motion,{style:{motionVar:Object(C.spring)("YoYTotal"===V&&ze.includes("Markets")?1:0)},children:function(e){var t=e.motionVar;return Object(pe.jsxs)(y.a,{id:"YoYChangeMarkets",children:[Object(pe.jsx)(M.a,{data:be.filter((function(e){return"Commercial"===e.Market})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:R,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(pe.jsx)(M.a,{data:be.filter((function(e){return"Large"===e.Market})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:D,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(pe.jsx)(M.a,{data:be.filter((function(e){return"Residential"===e.Market})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:w,strokeWidth:1.5,opacity:t,className:"lineStyle"})]})}})]}),Object(pe.jsxs)(y.a,{id:"YoYRegionChange",children:[Object(pe.jsx)(C.Motion,{style:{motionVar:Object(C.spring)("YoYMarketRegion"===V?0:400)},children:function(e){var t=e.motionVar;return Object(pe.jsxs)(y.a,{id:"YoYChangeRegion",children:[Object(pe.jsx)(v.a,{from:{x:n(new Date(2020,0,1)),y:S(0)},to:{x:_e,y:S(0)},stroke:E,strokeWidth:1.5,style:Lt(t,"YoYMarketRegion"===V)}),Object(pe.jsx)(M.a,{data:Me.filter((function(e){return"Regional"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:E,strokeWidth:1.5,strokeDasharray:"5, 3",style:Lt(t,"YoYMarketRegion"===V),className:"lineStyle",opacity:Nt}),Object(pe.jsx)(M.a,{data:Me.filter((function(e){return"Metropolitan"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:E,strokeWidth:1.5,style:Lt(t,"YoYMarketRegion"===V),className:"lineStyle",opacity:Nt})]})}}),Object(pe.jsx)(C.Motion,{style:{motionVar:Object(C.spring)("YoYMarketRegion"===V&&ze.includes("Markets")?1:0)},children:function(e){var t=e.motionVar;return Object(pe.jsxs)(y.a,{id:"YoyChangeMarketRegions",children:[Object(pe.jsx)(M.a,{data:Re.filter((function(e){return"Commercial"===e.Market&&"Metropolitan"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:R,strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(pe.jsx)(M.a,{data:Re.filter((function(e){return"Large"===e.Market&&"Metropolitan"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:D,strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(pe.jsx)(M.a,{data:Re.filter((function(e){return"Residential"===e.Market&&"Metropolitan"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:w,strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(pe.jsx)(M.a,{data:Re.filter((function(e){return"Commercial"===e.Market&&"Regional"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:R,strokeDasharray:"5, 3",strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(pe.jsx)(M.a,{data:Re.filter((function(e){return"Large"===e.Market&&"Regional"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:D,strokeDasharray:"5, 3",strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(pe.jsx)(M.a,{data:Re.filter((function(e){return"Residential"===e.Market&&"Regional"===e.Region})),curve:x.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return S(e.YoYChange)},stroke:w,strokeWidth:1.5,strokeDasharray:"5, 3",opacity:t,className:"lineStyle"})]})}})]})]})]}),"Calendar"===V&&Object(pe.jsx)(y.a,{id:"CalendarGroup",children:Object(pe.jsx)(xe,{data:Ee,width:_e,height:Ge,KeyDateData:Ve,setStoryLim:nt})})]}),Object(pe.jsxs)(y.a,{id:"NavButton",style:{display:"flex",alignItems:"center",position:"absolute",top:"50%",right:"0%"},children:["YoYMarketRegion"!==V&&ze.includes("Markets")&&Object(pe.jsx)(j.a,{color:"primary",onClick:function(e){return Rt()},children:Object(pe.jsx)(p.a,{})}),"YoYMarketRegion"!==V&&"Intro"!==V&&!ze.includes("Markets")&&Object(pe.jsx)(b.a,{title:"Show Market Types to Continue",children:Object(pe.jsx)(j.a,{onClick:function(e){return Tt()},children:Object(pe.jsx)(p.a,{})})})]}),Object(pe.jsx)(y.a,{id:"IntroNavButton",style:{display:"flex",alignItems:"center",position:"absolute",bottom:"0%",right:"0%",flexDirection:"column"},className:"introNavButton",children:"Intro"===V&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(j.a,{color:"primary",onClick:function(e){return Rt()},children:Object(pe.jsx)(p.a,{})}),Object(pe.jsx)(d.a,{variant:"button",children:"Next Visual"})]})})]})}var Pe=n(371),ze=n(372);function He(){return Object(pe.jsx)(Pe.a,{position:"static",style:{marginBottom:"1vh"},children:Object(pe.jsx)(ze.a,{children:Object(pe.jsx)(d.a,{variant:"h5",children:"Visualising the Effects of COVID-19 on the Electricity Grid in Melbourne, Australia"})})})}var Je=function(){return Object(pe.jsxs)("div",{id:"App",children:[Object(pe.jsx)(He,{}),Object(pe.jsx)(Be,{})]})},Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,395)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))},Ge=n(375);Object(Ge.a)(),i.a.render(Object(pe.jsx)(r.a.StrictMode,{children:Object(pe.jsx)(Je,{})}),document.getElementById("root")),Ke()}},[[286,1,2]]]);
//# sourceMappingURL=main.4497b0b7.chunk.js.map