(this.webpackJsonpvisualisingcovid=this.webpackJsonpvisualisingcovid||[]).push([[0],{156:function(e,t,n){},244:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),o=n.n(i),c=(n(244),n(43)),s=n(13),l=n(404),u=n(398),h=n(376),d=n(394),f=n(361),j=n(120),b=n(390),m=n(411),p=n(403),x=n(391),O=n(392),g=n(393),y=n(395),k=n(300),v=n(118),Y=n.n(v),M=n(389),w=n(369),C=n(388),D=n(193),R=n(407),S=n(401),T=n(399),N=n(367),L=n(36),I="#1f78b4",E="#b2df8a",F="#fb9a99",A="#A62190",V="#4760DE",W="#000000",B=["Intro","RawYearComparison","YoYTotal","YoYMarketRegion","Calendar"],P={0:"Intro",1:"RawYearComparison",2:"YoYTotal",3:"YoYMarketRegion",4:"Calendar"},z={Intro:3,RawYearComparison:2,YoYTotal:3,YoYMarketRegion:2,Calendar:1},K={Intro:"Introduction",RawYearComparison:"Consumption Between Years",YoYTotal:"Year on Year Change",YoYMarketRegion:"Regional Changes",YoYMarket:"Market Type Changes",Calendar:"Day Changes"},H={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11},J=n(23),G=n.n(J),q=n(54),_=n(55);function Z(){return(Z=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/YoYTotal.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,H[e.Month],1),YoYChange:e.ConsumptionYoY};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/YoYMarket.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,H[e.Month],1),YoYChange:e["YoY Consumption Change"],Market:e["Market Type"]};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/YoYRegion.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,H[e.Month],1),YoYChange:e["YoY Consumption Change"],Region:e.Region};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/YoYRegionMarket.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,H[e.Month],1),YoYChange:e["YoY Consumption Change"],Market:e["Market Type"],Region:e.Region};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/RawConsumption.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,H[e.Month],1),Consumption:e.Consumption};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/RawConsumptionMarkets.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Year:e.Year,Month:new Date(e.Year,H[e.Month],1),Consumption:e.Consumption,Market:e["Market Type"]};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/YoyByDay.csv")).then((function(e){var n=[];e.forEach((function(e){var t=e.Date.split("-"),a={Date:new Date(t[0],t[1]-1,t[2]),Consumption:Math.round(e.Consumption)};n.push(a)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(_.a)("".concat("","/KeyDateData.csv")).then((function(e){var n=[];e.forEach((function(e){var t={Date:new Date(e["Earliest Date"]),DayName:e.Event,Consumption:e["Consumption (kWh)"],Year:parseInt(e["Calendar Year"]),Market:e["Market Type"]};n.push(t)})),t(n)})).catch((function(e){throw e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=n(14);function re(e){var t=Object.keys(P).find((function(t){return P[t]===e}));return t?+t:1}function ie(e,t,n){if("YoYTotal"===t){if(n){if(1===e)return"All three markets were mostly moving in sync prior to COVID lockdowns.";if(2===e)return"Statewide restrictions saw most businesses and factories close. There was a shift to working and schooling from home where possible";if(3===e)return"The markets reached parity with each other again two months after the strict lockdown ended."}else if(!n){if(1===e)return"Across the electricity network there is a net consumption decrease of around -4% from the previous year. This is a significant change in the context of electricity demand. especially as 2020 was colder than 2019.";if(2===e)return"The first lockdown saw an extreme low in April, while the second lockdown sees a similar low in August.";if(3===e)return"We can see a slow returs to normal as restrictions ease over time. This is in contrast to the immediate changes when restrictions were implemented at short notice."}}else if("YoYMarketRegion"===t){if(n){if(1===e)return"During the first lockdown the similar restrictions between regions saw the different market types following similar growth or decline.";if(2===e)return"During the second lockdown regional businesses remained open unlike their metropolitan counterparts. Tourism however was virtually non-existant during this period in Regional Victoria."}else if(!n){if(1===e)return"Lockdown restrictions saw Victoria split into two distinct regions with differing rules.";if(2===e)return"Regional Victoria had significantly fewer restrictions during Lockdown 2."}}else if("RawYearComparison"===t){if(n){if(1===e)return"From this we can see that Residential consumption is far more sensitive to temperature than business or industrial consumption. The latter two market types remain relativley stable throughout the year.";if(2===e)return"It's a little tough to interpret the change between 2019 and 2020 when viewed like this. Let's look only at the difference between the years on the next visual."}else if(!n){if(1===e)return"In a typical year Victoria generates approximately 26 million Megawatt-Hours (MWh) of electricity.";if(2===e)return"Generation is distributed across the year with peaks occuring during the hottest and coldest months."}}else if("Calendar"===t){if(1===e)return"This calendar shows the consumption each day over a two year period. Click on some of the public holidays below to investigate the year on year change in a little more detail.";if(2===e)return"Public holidays during the lockdown period exhibited significantly more overall consumption. Nearly all of which is from the residential sector."}return""}function oe(e,t,n){if("RawYearComparison"===e)if(n){if(n){if(1===t)return ae.a.topRightEdge;if(2===t)return ae.a.topLeftEdge}}else{if(1===t)return ae.a.bottomAutoEdge;if(2===t)return ae.a.bottomRightEdge}else if("YoYTotal"===e)if(n){if(n){if(1===t)return ae.a.topCenter;if(2===t)return ae.a.topRightEdge;if(3===t)return ae.a.leftCenter}}else{if(1===t)return ae.a.topRightEdge;if(2===t)return ae.a.bottomCenter;if(3===t)return ae.a.bottomLeftEdge}else if("YoYMarketRegion"===e)if(n){if(n){if(1===t)return ae.a.topCenter;if(2===t)return ae.a.topCenter}}else{if(1===t)return ae.a.topLeftEdge;if(2===t)return ae.a.bottomLeftEdge}else if("Calendar"===e){if(1===t)return ae.a.rightCenter;if(2===t)return ae.a.rightCenter}return ae.a.topCenter}function ce(e,t,n){var a="70",r="50";return"RawYearComparison"===e?n?n&&(1===t?(a="34",r="57"):2===t&&(a="74",r="57")):1===t?(a="34",r="35"):2===t&&(a="68",r="40"):"YoYTotal"===e?n?n&&(1===t?(a="30",r="48"):2===t?(a="40",r="63"):3===t&&(a="85",r="57")):1===t?(a="30.5",r="50"):2===t?(a="36",r="65"):3===t&&(a="77",r="64"):"YoYMarketRegion"===e?n?n&&(1===t?(a="30",r="46"):2===t&&(a="75",r="59")):1===t?(a="29",r="47"):2===t&&(a="75",r="65"):"Calendar"===e&&(1===t?(a="75",r="30"):2===t&&(a="75",r="60")),{position:"absolute",left:"".concat(a,"vw"),top:"".concat(r,"vh")}}n(156);var se=n(365),le=n(371),ue=n(406),he=n(366),de=n(368),fe=n(415),je=n(180),be=n(181),me=n(357),pe=n(405),xe=n(410),Oe=n(370),ge=n(165),ye=n(166),ke=n(161),ve=n(164),Ye=n(414),Me=n(46),we=n.n(Me),Ce=n(1);function De(e){var t=18,n=Object(a.useState)(""),r=Object(s.a)(n,2),i=r[0],o=r[1],c=Object(a.useState)(""),l=Object(s.a)(c,2),u=l[0],h=l[1],d=Object(a.useState)([]),j=Object(s.a)(d,2),b=j[0],p=j[1],x=Object(a.useState)(),O=Object(s.a)(x,2),g=O[0],y=O[1],v=Object(a.useState)(!1),Y=Object(s.a)(v,2),M=Y[0],C=Y[1],R=Object(a.useState)(void 0),T=Object(s.a)(R,2),N=T[0],L=T[1],W=Object(a.useState)(void 0),B=Object(s.a)(W,2),P=B[0],z=B[1],K=50,H=30,J=500,G=500,q=[K,G],_=[470,H];Object(me.a)({domain:["Residential","Commercial","Large"],range:["#6c5efb","#c998ff","#a44afe"]});function Z(e){var n=e.getDay(),a=ge.b.count(Object(ye.a)(e),e),r=new Date(e.getFullYear(),e.getMonth()+1,0),i=r.getDay(),o=ge.b.count(Object(ye.a)(r),r);return"\n            M".concat((a+1)*t,",").concat(n*t,"\n            H").concat(a*t," V").concat(126,"\n            H").concat(o*t," V").concat((i+1)*t,"\n            H").concat((o+1)*t," V0\n            H").concat((a+1)*t,"Z\n        ")}var Q=Object(Ye.a)("%Y-%m-%d"),X=(function(){var t=[];for(var n in e.KeyDateData)t.push(Q(e.KeyDateData[n].Date))}(),Object(pe.a)({domain:[65e3,15e4],range:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"]})),U=new Date("2020-03-20"),$=new Date("2020-05-10"),ee=new Date("2020-07-08"),te=new Date("2020-11-08"),ne=["Residential","Commercial","Large"];var ae={display:"flex",flexDirection:"column",alignItems:"center"};return Object(Ce.jsx)("div",{children:Object(Ce.jsxs)(f.a,{container:!0,children:[[2019,2020].map((function(n){var a=new Date(n,0,1),r=new Date(n+1,0,1),i=Object(ke.a)(a,r),o=Object(ve.b)(a,r);return Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(f.a,{item:!0,xs:12,children:Object(Ce.jsx)("svg",{width:e.width,height:150,children:Object(Ce.jsxs)(D.a,{transform:"translate(".concat((e.width-1260)/2,",0)"),children:[Object(Ce.jsx)("text",{transform:"translate(-6,".concat(63,")rotate(-90)"),fontFamily:"sans-serif",fontSize:15,textAnchor:"middle",children:n}),Object(Ce.jsx)(D.a,{fill:"none",stroke:"#ccc",children:i.map((function(n){var a=Q(n),r=e.data.filter((function(e){return a===Q(e.Date)}))[0].Consumption,i=ge.b.count(Object(ye.a)(n),n)*t,o=n.getDay()*t,c="#fffff",s=1,l="";return n>=U&&n<=$?(c=V,s=2,l=" (Lockdown 1)"):n>=ee&&n<=te&&(c=A,s=2,l=" (Lockdown 2)"),Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(m.a,{title:"".concat(we()(a).format("dddd D MMMM YYYY"),": ").concat(r," MWh ").concat(l),children:Object(Ce.jsx)("rect",{fill:X(r),width:t,height:t,x:i,y:o,stroke:M?c:"#fffff",strokeWidth:M?s:1,className:"daySquare"},"day-rect-".concat(a))},"".concat(a,"-Tooltip-box"))})}))}),Object(Ce.jsx)(D.a,{fill:"none",stroke:"#000",strokeWidth:4,children:o.map((function(e){return Object(Ce.jsx)("path",{d:Z(e)},"month-path-".concat(Q(e),"-").concat(n))}))})]})},"year-".concat(n))})})})),Object(Ce.jsx)(f.a,{item:!0,xs:12,children:Object(Ce.jsx)(se.a,{size:"small",children:e.KeyDateData.map((function(t){if("Residential"===t.Market&&2020===t.Date.getFullYear())return Object(Ce.jsx)(k.a,{variant:i===Q(t.Date)?"contained":"outlined",color:"primary",onClick:function(n){!function(t){o(t),""===u&&e.setStoryLim(2);var n=e.KeyDateData.filter((function(e){return Q(e.Date)===t})),a=n[0].DayName;h(a);var r=e.KeyDateData.filter((function(e){return e.DayName===a&&2019===e.Year}));y(n.concat(r)[3].Date),p(n.concat(r)),L((function(){return Object(xe.a)({domain:ne,range:q})})),z((function(){return Object(S.a)({domain:[0,5e4],nice:!0,range:_})}))}(Q(t.Date))},children:t.DayName})}))})}),""!==i&&Object(Ce.jsxs)(f.a,{item:!0,xs:4,style:ae,children:[Object(Ce.jsxs)("text",{children:[u," 2019 - ",we()(g).format("DD MMMM")]}),Object(Ce.jsxs)("svg",{width:G,height:J,id:"Calendar2019Graphs",children:[Object(Ce.jsx)(he.a,{top:470,scale:N}),Object(Ce.jsx)(de.a,{left:K,scale:P}),Object(Ce.jsx)(w.a,{scale:P,width:450,height:J,stroke:"#e0e0e0",left:K}),Object(Ce.jsx)(D.a,{id:"2019Graph",children:b.filter((function(e){return 2019===e.Year})).map((function(e){var t=J-P(e.Consumption),n=N(e.Market),a=J-t,r=I;return"Commercial"===e.Market?r=E:"Residential"===e.Market?r=I:"Large"===e.Market&&(r=F),Object(Ce.jsx)(Oe.a,{x:n+50,y:a-H,width:50,height:t,fill:r},"bar-".concat(e.Date,"-").concat(e.Market,"-outline"))}))})]})]}),""!==i&&Object(Ce.jsxs)(f.a,{item:!0,xs:4,style:ae,children:[Object(Ce.jsxs)("text",{children:[u," 2020 - ",we()(i).format("DD MMMM")]}),Object(Ce.jsxs)("svg",{width:G,height:J,id:"Calendar2020Graphs",children:[Object(Ce.jsx)(he.a,{top:470,scale:N}),Object(Ce.jsx)(de.a,{left:K,scale:P}),Object(Ce.jsx)(w.a,{scale:P,width:450,height:J,stroke:"#e0e0e0",left:K}),Object(Ce.jsx)(D.a,{id:"2019Graph",children:b.filter((function(e){return 2020===e.Year})).map((function(e){var t=J-P(e.Consumption),n=N(e.Market),a=J-t,r=I;return"Commercial"===e.Market?r=E:"Residential"===e.Market?r=I:"Large"===e.Market&&(r=F),Object(Ce.jsx)(Oe.a,{x:n+50,y:a-H,width:50,height:t,fill:r},"bar-".concat(e.Date,"-").concat(e.Market,"-outline"))}))})]})]}),Object(Ce.jsxs)(D.a,{id:"CalLegend",style:{position:"fixed",right:"10%"},children:[Object(Ce.jsx)("span",{children:"Daily Consumption (MWh)"}),Object(Ce.jsx)(fe.a,{scale:X,children:function(e){return e.reverse().map((function(e,t){return Object(Ce.jsxs)(je.a,{children:[Object(Ce.jsx)("svg",{width:15,height:15,style:{margin:"2px 0"},children:Object(Ce.jsx)("circle",{fill:e.value,r:7.5,cx:7.5,cy:7.5})}),Object(Ce.jsxs)(be.a,{align:"left",margin:"0 4px",children:[0===e.index&&"Below ".concat(e.extent[1]),0!==e.index&&4!==e.index&&"".concat(Math.round(e.extent[0])," to ").concat(Math.round(e.extent[1])),4===e.index&&"Above ".concat(e.extent[0])]})]},"legend-".concat(t))}))}}),Object(Ce.jsx)(le.a,{control:Object(Ce.jsx)(ue.a,{checked:M,onChange:function(e){C(e.target.checked)},name:"checkedB",color:"primary"}),label:"Show Lockdown Period"})]})]})})}var Re=n(7),Se=15,Te=Object(Re.a)((function(e){return{tooltip:{fontSize:"0.8em"}}}))(m.a);function Ne(e,t,n,a,r,i){return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(he.a,{top:e,scale:a,numTicks:23,tickFormat:function(e){return e},children:function(e){var t=(e.axisToPoint.x-e.axisFromPoint.x)/2;return Object(Ce.jsxs)("g",{className:"my-custom-bottom-axis",children:[Object(Ce.jsx)(N.a,{from:e.axisFromPoint,to:e.axisToPoint,stroke:"#000000"}),e.ticks.map((function(e,t){if(24!==t){var n=e.to.x,a=e.to.y+15;return Object(Ce.jsxs)(D.a,{className:"vx-axis-tick",children:[Object(Ce.jsx)(N.a,{from:e.from,to:e.to,stroke:"#000000"}),Object(Ce.jsx)("text",{transform:"translate(".concat(n,", ").concat(a,")"),fontSize:15,textAnchor:"middle",fill:"2019"===we()(e.formattedValue).format("Y")?"#4760DE":"#A62190",children:we()(e.formattedValue).format("MMM")})]},"vx-tick-".concat(e.value,"-").concat(t))}})),Object(Ce.jsx)("text",{textAnchor:"middle",transform:"translate(".concat(t,", 50)"),fontSize:"8",children:e.label})]})}}),Object(Ce.jsx)(he.a,{top:e+30,scale:Object(xe.a)({domain:["2019","2020"],range:[t,n]}),numTicks:4,hideAxisLine:!0,tickFormat:function(e){return we()(e).format("Y")},children:function(e){var t=(e.axisToPoint.x-e.axisFromPoint.x)/2;return Object(Ce.jsxs)("g",{className:"my-custom-bottom-axis",children:[e.ticks.map((function(e,t){var n=e.to.x,a=e.to.y+10;return Object(Ce.jsx)(D.a,{className:"vx-axis-tick",children:Object(Ce.jsx)("text",{transform:"translate(".concat(n,", ").concat(a,")"),fontSize:10,textAnchor:"middle",fill:"2019"===e.formattedValue?V:A,children:e.formattedValue})},"vx-tick-".concat(e.value,"-").concat(t))})),Object(Ce.jsx)("text",{textAnchor:"middle",transform:"translate(".concat(t,", 50)"),fontSize:"8",children:e.label})]})}}),Object(Ce.jsx)(de.a,{left:t,scale:r,label:i,labelClassName:"axisLabelTY"})]})}function Le(e,t,n,a,r,i){return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(he.a,{top:e,scale:a,numTicks:12,tickFormat:function(e){return e},children:function(e){var t=(e.axisToPoint.x-e.axisFromPoint.x)/2;return Object(Ce.jsxs)("g",{className:"my-custom-bottom-axis",children:[Object(Ce.jsx)(N.a,{from:e.axisFromPoint,to:e.axisToPoint,stroke:"#000000"}),e.ticks.map((function(e,t){return function(e){var t="Prior to Lockdown",n=W,a=we()(e.formattedValue).format("MMMM");["April","May"].includes(a)?(t="Lockdown 1",n=V):["July","August","September","October"].includes(a)?(t="Lockdown 2",n=A):["January","February"].includes(a)?(t="Prior to Lockdown",n=W):"March"===a?(t="Lockdown begins in Third Week",n=V):"June"===a?(t="Eased Restrictions",n=W):["November","December"].includes(a)&&(t="Easing Restrictions Over Time",n=W);return Object(Ce.jsxs)(D.a,{children:[Object(Ce.jsx)(N.a,{from:e.from,to:e.to,stroke:"#000000"}),Object(Ce.jsx)(Te,{title:t,className:"largerTooltip",children:Object(Ce.jsx)("text",{transform:"translate(".concat(e.to.x,", ").concat(e.to.y+Se,")"),fontSize:Se,textAnchor:"middle",fill:n,cursor:"pointer",children:we()(e.formattedValue).format("MMMM")})})]},"vx-tick-".concat(e.value))}(e)})),Object(Ce.jsx)("text",{textAnchor:"middle",transform:"translate(".concat(t,", 50)"),fontSize:"8",children:e.label})]})}}),Object(Ce.jsx)(he.a,{top:e+30,scale:Object(R.a)({domain:[new Date("2019-01-01"),new Date("2020-12-01")],nice:!0,range:[t,n]}),numTicks:1,hideAxisLine:!0,tickFormat:function(e){return we()(e).format("Y")},hideTicks:!0}),Object(Ce.jsx)(de.a,{left:t,scale:r,label:i,labelClassName:"axisLabelOY"})]})}function Ie(){return Object(Ce.jsx)("div",{style:{height:"90vh",width:"100%",display:"flex",flexDirection:"column"},children:Object(Ce.jsx)("div",{dangerouslySetInnerHTML:{__html:"<iframe src='https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html?source=1n-8-FkqEqL-hZbaXNfr5ApCmQKAhRsdSjKSMdV5JNKQ&font=Default&lang=en&timenav_position=top&initial_zoom=1&height=650' width='100%' height='650' webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder='0'></iframe>"}})})}var Ee=n(372),Fe=n(184),Ae=n.n(Fe),Ve=n(182),We=n.n(Ve),Be=n(185),Pe=n.n(Be),ze=n(183),Ke=n.n(ze),He=n(373);function Je(e){function t(e){return"RawYearComparison"===e||"YoYTotal"===e?Object(me.a)({domain:["Residential","Business","Industrial"],range:[I,E,F]}):"YoYMarketRegion"===e?Object(me.a)({domain:["Residential Metropolitan","Residential Regional","Business Metropolitan","Business Regional","Industrial Metropolitan","Industrial Regional"],range:[I,I,E,E,F,F]}):void 0}function n(e,t,n){return"YoYTotal"!==e&&"RawYearComparison"!==e?n.includes("Regional")?Object(Ce.jsxs)("svg",{width:25,height:25,children:[" ",Object(Ce.jsx)("line",{x1:"0",y1:"12",x2:"25",y2:"12",stroke:t,"stroke-dasharray":"4"})," "]}):Object(Ce.jsxs)("svg",{width:25,height:25,children:[" ",Object(Ce.jsx)("line",{x1:"0",y1:"12",x2:"25",y2:"12",stroke:t})," "]}):"Residential"===n?Object(Ce.jsx)(We.a,{htmlColor:t,fontSize:"large"}):"Business"===n?Object(Ce.jsx)(Ke.a,{htmlColor:t,fontSize:"large"}):"Industrial"===n?Object(Ce.jsx)(Ae.a,{htmlColor:t,fontSize:"large"}):"Overall"===n?Object(Ce.jsx)(Pe.a,{htmlColor:t,fontSize:"large"}):void 0}return t(e.currStep)&&"Intro"!==e.currStep?e.marketsActive?Object(Ce.jsx)(Ee.a,{style:{zIndex:1,position:"fixed",top:"15vh",right:"10vw"},children:Object(Ce.jsx)(He.a,{scale:t(e.currStep),labelFormat:function(e){return"".concat(e)},children:function(t){return Object(Ce.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:t.map((function(t,a){return Object(Ce.jsxs)(je.a,{margin:"5px 5px",children:[n(e.currStep,t.value,t.text),Object(Ce.jsxs)(be.a,{align:"left",margin:"0 0 0 4px",children:[" ",t.text," "]})]},"legend-quantile-".concat(a))}))})}})}):Object(Ce.jsx)(Ee.a,{style:{zIndex:1,position:"fixed",top:"15vh",right:"10vw"},children:Object(Ce.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(t){e.updateFilters()},style:{marginTop:"5%"},children:" Show Market Types "})}):null}var Ge=n(375),qe=n(374),_e=n(409),Ze=n(416);function Qe(e){var t=Object(a.useState)(e.currStep),n=Object(s.a)(t,2),r=n[0],i=n[1],o=B;Object(a.useEffect)((function(){e.currStep!==r&&i(e.currStep)}));return Object(Ce.jsxs)(D.a,{id:"SideBar",style:{display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(D.a,{id:"Stepper",children:Object(Ce.jsx)(Ze.a,{activeStep:re(r),orientation:"vertical",children:o.map((function(t,n){return Object(Ce.jsx)(qe.a,{style:{cursor:"pointer"},children:Object(Ce.jsx)(_e.a,{onClick:function(n){var a;i(a=t),e.updateStep(a)},children:Object(Ce.jsx)(j.a,{variant:"button",children:K[t]})})},t)}))})}),Object(Ce.jsx)(Ge.a,{})]})}function Xe(){var e=Object(a.useState)(void 0),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(void 0),v=Object(s.a)(o,2),A=v[0],V=v[1],B=Object(a.useState)("YoYTotal"),K=Object(s.a)(B,2),H=K[0],J=K[1],G=Object(a.useState)(""),q=Object(s.a)(G,2),_=q[0],ae=q[1],se=Object(a.useState)(!1),le=Object(s.a)(se,2),ue=le[0],he=le[1],de=Object(a.useState)([]),fe=Object(s.a)(de,2),je=fe[0],be=fe[1],me=Object(a.useState)([]),pe=Object(s.a)(me,2),xe=pe[0],Oe=pe[1],ge=Object(a.useState)([]),ye=Object(s.a)(ge,2),ke=ye[0],ve=ye[1],Ye=Object(a.useState)([]),Me=Object(s.a)(Ye,2),we=Me[0],Re=Me[1],Se=Object(a.useState)([]),Te=Object(s.a)(Se,2),Ee=Te[0],Fe=Te[1],Ae=Object(a.useState)([]),Ve=Object(s.a)(Ae,2),We=Ve[0],Be=Ve[1],Pe=Object(a.useState)([]),ze=Object(s.a)(Pe,2),Ke=ze[0],He=ze[1],Ge=Object(a.useState)([]),qe=Object(s.a)(Ge,2),_e=qe[0],Ze=qe[1],Xe=Object(a.useState)(!1),Ue=Object(s.a)(Xe,2),$e=Ue[0],et=Ue[1],tt=Object(a.useState)([]),nt=Object(s.a)(tt,2),at=nt[0],rt=nt[1],it=.9*document.documentElement.clientHeight,ot=.8*document.documentElement.clientWidth,ct=.8*document.documentElement.clientHeight,st=.75*document.documentElement.clientWidth,lt=.05*document.documentElement.clientWidth,ut=Object(a.useState)(1),ht=Object(s.a)(ut,2),dt=ht[0],ft=ht[1],jt=Object(a.useState)(z.Intro),bt=Object(s.a)(jt,2),mt=bt[0],pt=bt[1],xt=Object(a.useState)("Total Consumption"),Ot=Object(s.a)(xt,2),gt=Ot[0],yt=Ot[1],kt=r.a.useRef(null),vt=Object(h.a)(!1),Yt=Object(s.a)(vt,2),Mt=Yt[0],wt=Yt[1],Ct=wt.setFalse,Dt=wt.setTrue,Rt=r.a.useRef(null),St=Object(h.a)(!1),Tt=Object(s.a)(St,2),Nt=Tt[0],Lt=Tt[1],It=Lt.setFalse,Et=Lt.setTrue,Ft=r.a.useRef(null),At=Object(h.a)(!1),Vt=Object(s.a)(At,2),Wt=Vt[0],Bt=Vt[1],Pt=Bt.setFalse,zt=Bt.setTrue;function Kt(){"YoYMarketRegion"===H&&at.includes("Markets")&&!ue?(he(!0),Ct(),It(),Pt()):"Calendar"!==H&&Zt(P[re(H)+1])}function Ht(e){return{directionalHint:oe(H,e,at.includes("Markets")),doNotLayer:!1}}function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?rt([]):(et(!0),rt([e]),yt(Qt(H,!0)))}function Gt(){Ct(),It(),Pt(),Jt("Markets")}function qt(){Kt(),he(!1)}function _t(e,t,n,a){i((function(){return Object(R.a)({domain:[e,t],nice:!0,range:[lt,st]})})),V((function(){return Object(S.a)({domain:[a,n],nice:!0,range:[50,ct]})}))}function Zt(e){if(J(e),Ct(),It(),Pt(),et(!0),Jt("2019",!1),yt(Qt(e)),pt(z[e]),"RawYearComparison"===e)_t(Math.min.apply(Math,Object(c.a)(je.map((function(e){return e.Month.valueOf()})))),Math.max.apply(Math,Object(c.a)(je.map((function(e){return e.Month.valueOf()})))),0,Math.max.apply(Math,Object(c.a)(je.map((function(e){return e.Consumption}))))),ae("Demand (MWh)");else if("YoYTotal"===e){_t(Math.min.apply(Math,Object(c.a)(we.map((function(e){return e.Month.valueOf()})))),Math.max.apply(Math,Object(c.a)(we.map((function(e){return e.Month.valueOf()})))),Math.min.apply(Math,Object(c.a)(we.map((function(e){return e.YoYChange})))),Math.max.apply(Math,Object(c.a)(we.map((function(e){return e.YoYChange}))))),ae("Year on Year Change (%)")}else if("YoYMarketRegion"===e){var t=Math.min.apply(Math,Object(c.a)(We.map((function(e){return e.Month.valueOf()})))),n=Math.max.apply(Math,Object(c.a)(We.map((function(e){return e.Month.valueOf()})))),a=Math.min.apply(Math,Object(c.a)(We.map((function(e){return e.YoYChange})))),r=Math.max.apply(Math,Object(c.a)(We.map((function(e){return e.YoYChange}))));ae("Year on Year Change (%)"),_t(t,n,a,r)}e!==H&&ft(1)}function Qt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"YoYTotal"===e?t?"Electricity Demand across Victoria by Market Type":"Electricity Demand across Victoria":"RawYearComparison"===e?t?"Year on Year Change in Demand by Market Type":"Year on Year Change in Demand":"YoYMarketRegion"===e?t?"Year on Year Change in Demand by Region":"Year on Year Change in Demand by Region and Market Type":""}Object(a.useEffect)((function(){0===je.length?(console.log("Loading Data"),function(e){$.apply(this,arguments)}(be),function(e){ee.apply(this,arguments)}(Oe),function(e){Z.apply(this,arguments)}(ve),function(e){Q.apply(this,arguments)}(Re),function(e){X.apply(this,arguments)}(Fe),function(e){U.apply(this,arguments)}(Be),function(e){te.apply(this,arguments)}(He),function(e){ne.apply(this,arguments)}(Ze)):void 0===n&&1===dt&&"Intro"!==H&&(console.log("Data Loaded"),Zt("Intro")),!Mt&&$e&&(Dt(),Et(),zt(),et(!1))}));var Xt=function(e,t){return{WebkitTransform:"translate3d(".concat(e,"px, 0, 0)"),transform:"translate3d(".concat(e,"px, 0, 0)"),visibility:t?"visible":"hidden"}},Ut=at.includes("Markets")?0:1;return Object(Ce.jsxs)(f.a,{container:!0,children:[Object(Ce.jsxs)(D.a,{id:"anchors",children:[Object(Ce.jsx)("span",{id:"InfoAnchor1",style:ce(H,1,at.includes("Markets")),ref:kt}),Object(Ce.jsx)("span",{id:"InfoAnchor2",style:ce(H,2,at.includes("Markets")),ref:Rt}),Object(Ce.jsx)("span",{id:"InfoAnchor3",style:ce(H,3,at.includes("Markets")),ref:Ft})]}),Object(Ce.jsx)(D.a,{id:"LegendContainer",children:Object(Ce.jsx)(Je,{currStep:H,marketsActive:at.includes("Markets"),updateFilters:Gt})}),Object(Ce.jsx)(D.a,{id:"infoBoxes",children:"Intro"!==H&&Object(Ce.jsxs)(Ce.Fragment,{children:[mt>=1&&Mt&&Object(Ce.jsx)(l.a,{target:kt.current,positioningContainerProps:Ht(1),delayBeforeCoachmarkAnimation:1e3,children:Object(Ce.jsx)(u.a,{onDismiss:Ct,hasCloseButton:!0,children:ie(1,H,at.includes("Markets"))})}),mt>=2&&Nt&&Object(Ce.jsx)(l.a,{target:Rt.current,positioningContainerProps:Ht(2),delayBeforeCoachmarkAnimation:1e3,children:Object(Ce.jsx)(u.a,{onDismiss:It,hasCloseButton:!0,children:ie(2,H,at.includes("Markets"))})}),mt>=3&&Wt&&Object(Ce.jsx)(l.a,{target:Ft.current,positioningContainerProps:Ht(3),delayBeforeCoachmarkAnimation:1e3,children:Object(Ce.jsx)(u.a,{onDismiss:Pt,hasCloseButton:!0,children:ie(3,H,at.includes("Markets"))})})]})}),Object(Ce.jsx)(f.a,{item:!0,xs:2,style:{borderRight:"1px solid rgba(0, 0, 0, 0.05)"},children:Object(Ce.jsx)(Qe,{currStep:H,updateStep:Zt,updateFilters:Gt})}),Object(Ce.jsxs)(f.a,{item:!0,xs:10,children:["Intro"===H&&Object(Ce.jsx)(Ie,{}),"Intro"!==H&&"Calendar"!==H&&n&&Object(Ce.jsxs)(D.a,{id:"CanvasContainer",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Ce.jsx)(j.a,{variant:"h6",children:gt}),Object(Ce.jsxs)("svg",{height:it,width:ot,id:"Canvas",children:[Object(Ce.jsxs)(D.a,{id:"Axis",children:["RawYearComparison"!==H?Le(ct,lt,st,n,A,_):Ne(ct,lt,st,n,A,_),Object(Ce.jsx)(w.a,{scale:A,width:st-lt,height:ct,stroke:"#e0e0e0",left:lt}),Object(Ce.jsx)(C.a,{scale:n,width:st,height:ct-50,stroke:"#e0e0e0",top:50})]}),Object(Ce.jsxs)(D.a,{id:"TotalConsumpion",children:[Object(Ce.jsx)(L.Motion,{style:{motionVar:Object(L.spring)("RawYearComparison"===H?0:400)},children:function(e){var t=e.motionVar;return Object(Ce.jsx)(T.a,{data:je,curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.Consumption)},stroke:W,strokeWidth:1.5,style:Xt(t,"RawYearComparison"===H),className:"lineStyle"})}}),Object(Ce.jsx)(L.Motion,{style:{motionVar:Object(L.spring)("RawYearComparison"===H&&at.includes("Markets")?1:0)},children:function(e){var t=e.motionVar;return Object(Ce.jsxs)(D.a,{id:"RawYearMarkets",children:[Object(Ce.jsx)(T.a,{data:xe.filter((function(e){return"Commercial"===e.Market})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.Consumption)},stroke:E,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(Ce.jsx)(T.a,{data:xe.filter((function(e){return"Large"===e.Market})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.Consumption)},stroke:F,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(Ce.jsx)(T.a,{data:xe.filter((function(e){return"Residential"===e.Market})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.Consumption)},stroke:I,strokeWidth:1.5,opacity:t,className:"lineStyle"})]})}})]}),Object(Ce.jsxs)(D.a,{id:"YoYChange",children:[Object(Ce.jsx)(L.Motion,{style:{motionVar:Object(L.spring)("YoYTotal"===H?0:400)},children:function(e){var t=e.motionVar;return Object(Ce.jsxs)(D.a,{children:[Object(Ce.jsx)(N.a,{from:{x:n(new Date(2020,0,1)),y:A(0)},to:{x:st,y:A(0)},stroke:W,strokeWidth:1.5,style:Xt(t,"YoYTotal"===H)}),Object(Ce.jsx)(T.a,{data:ke,curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:W,strokeWidth:1.5,style:Xt(t,"YoYTotal"===H),className:"lineStyle",opacity:Ut})]})}}),Object(Ce.jsx)(L.Motion,{style:{motionVar:Object(L.spring)("YoYTotal"===H&&at.includes("Markets")?1:0)},children:function(e){var t=e.motionVar;return Object(Ce.jsxs)(D.a,{id:"YoYChangeMarkets",children:[Object(Ce.jsx)(T.a,{data:we.filter((function(e){return"Commercial"===e.Market})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:E,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(Ce.jsx)(T.a,{data:we.filter((function(e){return"Large"===e.Market})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:F,strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(Ce.jsx)(T.a,{data:we.filter((function(e){return"Residential"===e.Market})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:I,strokeWidth:1.5,opacity:t,className:"lineStyle"})]})}})]}),Object(Ce.jsxs)(D.a,{id:"YoYRegionChange",children:[Object(Ce.jsx)(L.Motion,{style:{motionVar:Object(L.spring)("YoYMarketRegion"===H?0:400)},children:function(e){var t=e.motionVar;return Object(Ce.jsxs)(D.a,{id:"YoYChangeRegion",children:[Object(Ce.jsx)(N.a,{from:{x:n(new Date(2020,0,1)),y:A(0)},to:{x:st,y:A(0)},stroke:W,strokeWidth:1.5,style:Xt(t,"YoYMarketRegion"===H)}),Object(Ce.jsx)(T.a,{data:Ee.filter((function(e){return"Regional"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:W,strokeWidth:1.5,strokeDasharray:"5, 3",style:Xt(t,"YoYMarketRegion"===H),className:"lineStyle",opacity:Ut}),Object(Ce.jsx)(T.a,{data:Ee.filter((function(e){return"Metropolitan"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:W,strokeWidth:1.5,style:Xt(t,"YoYMarketRegion"===H),className:"lineStyle",opacity:Ut})]})}}),Object(Ce.jsx)(L.Motion,{style:{motionVar:Object(L.spring)("YoYMarketRegion"===H&&at.includes("Markets")?1:0)},children:function(e){var t=e.motionVar;return Object(Ce.jsxs)(D.a,{id:"YoyChangeMarketRegions",children:[Object(Ce.jsx)(T.a,{data:We.filter((function(e){return"Commercial"===e.Market&&"Metropolitan"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:E,strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(Ce.jsx)(T.a,{data:We.filter((function(e){return"Large"===e.Market&&"Metropolitan"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:F,strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(Ce.jsx)(T.a,{data:We.filter((function(e){return"Residential"===e.Market&&"Metropolitan"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:I,strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(Ce.jsx)(T.a,{data:We.filter((function(e){return"Commercial"===e.Market&&"Regional"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:E,strokeDasharray:"5, 3",strokeWidth:1.5,className:"lineStyle",opacity:t}),Object(Ce.jsx)(T.a,{data:We.filter((function(e){return"Large"===e.Market&&"Regional"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:F,strokeDasharray:"5, 3",strokeWidth:1.5,opacity:t,className:"lineStyle"}),Object(Ce.jsx)(T.a,{data:We.filter((function(e){return"Residential"===e.Market&&"Regional"===e.Region})),curve:M.a,x:function(e){return n(e.Month.valueOf())},y:function(e){return A(e.YoYChange)},stroke:I,strokeWidth:1.5,strokeDasharray:"5, 3",opacity:t,className:"lineStyle"})]})}})]})]})]}),"Calendar"===H&&Object(Ce.jsx)(D.a,{id:"CalendarGroup",children:Object(Ce.jsx)(De,{data:Ke,width:st,height:ct,KeyDateData:_e,setStoryLim:pt})})]}),Object(Ce.jsxs)(D.a,{id:"NavButton",style:{display:"flex",alignItems:"center",position:"absolute",top:"50%",right:"0%"},children:["Calendar"!==H&&at.includes("Markets")&&Object(Ce.jsx)(b.a,{color:"primary",onClick:function(e){return Kt()},children:Object(Ce.jsx)(Y.a,{})}),"Calendar"!==H&&"Intro"!==H&&!at.includes("Markets")&&Object(Ce.jsx)(m.a,{title:"Show Market Types to Continue",children:Object(Ce.jsx)(b.a,{onClick:function(e){return Gt()},children:Object(Ce.jsx)(Y.a,{})})})]}),Object(Ce.jsx)(D.a,{id:"IntroNavButton",style:{display:"flex",alignItems:"center",position:"absolute",bottom:"0%",right:"0%",flexDirection:"column"},className:"introNavButton",children:"Intro"===H&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(b.a,{color:"primary",onClick:function(e){return Kt()},children:Object(Ce.jsx)(Y.a,{})}),Object(Ce.jsx)(j.a,{variant:"button",children:"Next Visual"})]})}),Object(Ce.jsxs)(p.a,{open:ue,onClose:qt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Ce.jsx)(x.a,{id:"alert-dialog-title",children:"Thanks for Reading"}),Object(Ce.jsxs)(O.a,{children:[Object(Ce.jsx)(g.a,{children:"The analysis done on this website has been a part of research into COVID-19 and electricity consumer trends for my university thesis. Part of this analysis involves evaluating the visuals shown thus far."}),Object(Ce.jsx)(g.a,{children:"Below is a link to a very short anonymous survey about your experience with this site. It would greatly benefit my research into energy and visualisation if you could take the time to fill it in before moving on."}),Object(Ce.jsx)(g.a,{children:Object(Ce.jsx)(d.a,{href:"https://forms.gle/Mo5EbTSWKYZWAcBM8",children:"Survey Link"})}),Object(Ce.jsx)(g.a,{children:"For more information about this research please do not hesitate to reach out to me at sche259@student.monash.edu"})]}),Object(Ce.jsx)(y.a,{children:Object(Ce.jsx)(k.a,{onClick:qt,color:"primary",autoFocus:!0,children:"Final Visual"})})]})]})}var Ue=n(396),$e=n(397);function et(){return Object(Ce.jsx)(Ue.a,{position:"static",style:{marginBottom:"1vh"},children:Object(Ce.jsx)($e.a,{children:Object(Ce.jsx)(j.a,{variant:"h5",children:"Visualising the Effects of COVID-19 on the Electricity Grid in Victoria, Australia"})})})}var tt=function(){return Object(Ce.jsxs)("div",{id:"App",children:[Object(Ce.jsx)(et,{}),Object(Ce.jsx)(Xe,{})]})},nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,422)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))},at=n(400);Object(at.a)(),o.a.render(Object(Ce.jsx)(r.a.StrictMode,{children:Object(Ce.jsx)(tt,{})}),document.getElementById("root")),nt()}},[[298,1,2]]]);
//# sourceMappingURL=main.3e55445e.chunk.js.map